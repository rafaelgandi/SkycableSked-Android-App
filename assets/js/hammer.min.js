/*
 * Hammer.JS
 * version 0.6.1
 * author: Eight Media
 * https://github.com/EightMedia/hammer.js
 */
function Hammer(a,b,c){function x(a){return a.touches?a.touches.length:1}function y(a){a=a||window.event;if(!w){var b=document,c=b.body;return[{x:a.pageX||a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&b.clientLeft||0),y:a.pageY||a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&b.clientTop||0)}]}var d=[],e,f=a.touches.length>0?a.touches:a.changedTouches;for(var g=0,h=f.length;g<h;g++)e=f[g],d.push({x:e.pageX,y:e.pageY});return d}function z(a,b){return Math.atan2(b.y-a.y,b.x-a.x)*180/Math.PI}function A(a,b){if(a.length==2&&b.length==2){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function B(a,b){if(a.length==2&&b.length==2){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.atan2(d,c)*180/Math.PI;c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.atan2(d,c)*180/Math.PI;return f-e}return 0}function C(a,b){b.touches=y(b.originalEvent),b.type=a,J(d["on"+a])&&d["on"+a].call(d,b)}function D(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function E(){i={},k=!1,j=0,f=0,g=0,l=null}function G(c){switch(c.type){case"mousedown":case"touchstart":i.start=y(c),n=(new Date).getTime(),j=x(c),k=!0,t=c;var d=a.getBoundingClientRect(),e=a.clientTop||document.body.clientTop||0,o=a.clientLeft||document.body.clientLeft||0,p=window.pageYOffset||a.scrollTop||document.body.scrollTop,q=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;r={top:d.top+p-e,left:d.left+q-o},s=!0,F.hold(c),b.prevent_default&&D(c);break;case"mousemove":case"touchmove":if(!s)return!1;u=c,i.move=y(c),F.transform(c)||F.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!s||l!="transform"&&c.touches&&c.touches.length>0)return!1;s=!1,v=c;var w=l=="drag";F.swipe(c),w?C("dragend",{originalEvent:c,direction:h,distance:f,angle:g}):l=="transform"?C("transformend",{originalEvent:c,position:i.center,scale:A(i.start,i.move),rotation:B(i.start,i.move)}):F.tap(t),m=l,C("release",{originalEvent:c,gesture:l}),E()}}function H(a,b){!b&&window.event&&window.event.toElement&&(b=window.event.toElement);if(a===b)return!0;if(b){var c=b.parentNode;while(c!==null){if(c===a)return!0;c=c.parentNode}}return!1}function I(a,b){var c={};if(!b)return a;for(var d in a)d in b?c[d]=b[d]:c[d]=a[d];return c}function J(a){return Object.prototype.toString.call(a)=="[object Function]"}function K(a,b,c){b=b.split(" ");for(var d=0,e=b.length;d<e;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var d=this,e={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};b=I(e,b),function(){if(!b.css_hacks)return!1;var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="";for(var f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var f=0,g=0,h=0,i={},j=0,k=!1,l=null,m=null,n=null,o={x:0,y:0},p=null,q=null,r={},s=!1,t,u,v,w="ontouchstart"in window;this.option=function(a,d){return d!=c&&(b[a]=d),b[a]},this.getDirectionFromAngle=function(a){var b={down:a>=45&&a<135,left:a>=135||a<=-135,up:a<-45&&a>-135,right:a>=-45&&a<=45},c,d;for(d in b)if(b[d]){c=d;break}return c};var F={hold:function(a){b.hold&&(l="hold",clearTimeout(q),q=setTimeout(function(){l=="hold"&&C("hold",{originalEvent:a,position:i.start})},b.hold_timeout))},swipe:function(a){if(!i.move)return;var c=i.move[0].x-i.start[0].x,e=i.move[0].y-i.start[0].y;f=Math.sqrt(c*c+e*e);var j=(new Date).getTime(),k=j-n;if(b.swipe&&b.swipe_time>k&&f>b.swipe_min_distance){g=z(i.start[0],i.move[0]),h=d.getDirectionFromAngle(g),l="swipe";var m={x:i.move[0].x-r.left,y:i.move[0].y-r.top},o={originalEvent:a,position:m,direction:h,distance:f,distanceX:c,distanceY:e,angle:g};C("swipe",o)}},drag:function(a){var c=i.move[0].x-i.start[0].x,e=i.move[0].y-i.start[0].y;f=Math.sqrt(c*c+e*e);if(b.drag&&f>b.drag_min_distance||l=="drag"){g=z(i.start[0],i.move[0]),h=d.getDirectionFromAngle(g);var j=h=="up"||h=="down";if((j&&!b.drag_vertical||!j&&!b.drag_horizontal)&&f>b.drag_min_distance)return;l="drag";var m={x:i.move[0].x-r.left,y:i.move[0].y-r.top},n={originalEvent:a,position:m,direction:h,distance:f,distanceX:c,distanceY:e,angle:g};k&&(C("dragstart",n),k=!1),C("drag",n),D(a)}},transform:function(a){if(b.transform){if(x(a)!=2)return!1;var c=B(i.start,i.move),d=A(i.start,i.move);if(l!="drag"&&(l=="transform"||Math.abs(1-d)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){l="transform",i.center={x:(i.move[0].x+i.move[1].x)/2-r.left,y:(i.move[0].y+i.move[1].y)/2-r.top};var e={originalEvent:a,position:i.center,scale:d,rotation:c};return k&&(C("transformstart",e),k=!1),C("transform",e),D(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-n;if(b.hold&&!(b.hold&&b.hold_timeout>d))return;var e=function(){if(o&&b.tap_double&&m=="tap"&&n-p<b.tap_max_interval){var a=Math.abs(o[0].x-i.start[0].x),c=Math.abs(o[0].y-i.start[0].y);return o&&i.start&&Math.max(a,c)<b.tap_double_distance}return!1}();if(e)l="double_tap",p=null,C("doubletap",{originalEvent:a,position:i.start}),D(a);else{var g=i.move?Math.abs(i.move[0].x-i.start[0].x):0,h=i.move?Math.abs(i.move[0].y-i.start[0].y):0;f=Math.max(g,h),f<b.tap_max_distance&&(l="tap",p=c,o=i.start,b.tap&&(C("tap",{originalEvent:a,position:i.start}),D(a)))}}};w?K(a,"touchstart touchmove touchend touchcancel",G):(K(a,"mouseup mousedown mousemove",G),K(a,"mouseout",function(b){H(a,b.relatedTarget)||G(b)}))}